{"version":3,"file":"web.js","sourceRoot":"","sources":["../../src/web.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,MAAM,iBAAiB,CAAC;AAe5C,OAAO,EAAE,YAAY,EAAE,sBAAsB,EAAE,MAAM,eAAe,CAAC;AAErE,MAAM,OAAO,kBAAmB,SAAQ,SAAS;IAQ/C;QACE,KAAK,EAAE,CAAC;QARV;;;;WAIG;QACK,oBAAe,GAA6B,IAAI,GAAG,EAAE,CAAC;IAI9D,CAAC;IAED,WAAW;QACT,sEAAsE;QACtE,iFAAiF;QACjF,OAAO,OAAO,CAAC,OAAO,CAAC;YACrB,WAAW,EAAE,IAAI;YACjB,sBAAsB,EAAE,sBAAsB,CAAC,MAAM;YACrD,YAAY,EAAE,YAAY,CAAC,QAAQ;YACnC,cAAc,EAAE,IAAI;YACpB,yBAAyB,EAAE,IAAI;SAChC,CAAC,CAAC;IACL,CAAC;IAED,6DAA6D;IAC7D,KAAK,CAAC,WAAW,CAAC,UAA4B,EAAE,SAAiC;QAC/E,iDAAiD;QACjD,OAAO;YACL,MAAM,EAAE,KAAK,IAAI,EAAE;gBACjB,2BAA2B;YAC7B,CAAC;SACF,CAAC;IACJ,CAAC;IAED,6DAA6D;IAC7D,cAAc,CAAC,QAA2B;QACxC,OAAO,CAAC,GAAG,CAAC,uCAAuC,CAAC,CAAC;QACrD,4DAA4D;QAC5D,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;IAC3B,CAAC;IAED,cAAc,CAAC,QAA8B;QAC3C,OAAO,CAAC,GAAG,CAAC,uCAAuC,EAAE,EAAE,MAAM,EAAE,QAAQ,CAAC,MAAM,EAAE,CAAC,CAAC;QAClF,sDAAsD;QACtD,MAAM,WAAW,GAAG,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QAC9D,IAAI,CAAC,WAAW,EAAE,CAAC;YACjB,MAAM,IAAI,KAAK,CAAC,+CAA+C,CAAC,CAAC;QACnE,CAAC;QACD,OAAO,OAAO,CAAC,OAAO,CAAC,WAAW,CAAC,CAAC;IACtC,CAAC;IAED,cAAc,CAAC,QAA8B;QAC3C,OAAO,CAAC,GAAG,CAAC,uCAAuC,EAAE,EAAE,MAAM,EAAE,QAAQ,CAAC,MAAM,EAAE,CAAC,CAAC;QAClF,wCAAwC;QACxC,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,QAAQ,CAAC,MAAM,EAAE;YACxC,QAAQ,EAAE,QAAQ,CAAC,QAAQ;YAC3B,QAAQ,EAAE,QAAQ,CAAC,QAAQ;SAC5B,CAAC,CAAC;QACH,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;IAC3B,CAAC;IAED,iBAAiB,CAAC,QAAiC;QACjD,OAAO,CAAC,GAAG,CAAC,0CAA0C,EAAE,EAAE,MAAM,EAAE,QAAQ,CAAC,MAAM,EAAE,CAAC,CAAC;QACrF,oDAAoD;QACpD,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QAC7C,OAAO,OAAO,CAAC,OAAO,EAAE,CAAC;IAC3B,CAAC;IAED,kBAAkB,CAAC,QAAmC;QACpD,OAAO,CAAC,GAAG,CAAC,2CAA2C,EAAE,EAAE,MAAM,EAAE,QAAQ,CAAC,MAAM,EAAE,CAAC,CAAC;QACtF,8CAA8C;QAC9C,OAAO,OAAO,CAAC,OAAO,CAAC,EAAE,OAAO,EAAE,IAAI,CAAC,eAAe,CAAC,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;IACjF,CAAC;IAED,KAAK,CAAC,gBAAgB;QACpB,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC;IAC5B,CAAC;CACF","sourcesContent":["import { WebPlugin } from '@capacitor/core';\nimport type { PluginListenerHandle } from '@capacitor/core';\n\nimport type {\n  NativeBiometricPlugin,\n  AvailableResult,\n  BiometricOptions,\n  GetCredentialOptions,\n  SetCredentialOptions,\n  DeleteCredentialOptions,\n  IsCredentialsSavedOptions,\n  IsCredentialsSavedResult,\n  Credentials,\n  BiometryChangeListener,\n} from './definitions';\nimport { BiometryType, AuthenticationStrength } from './definitions';\n\nexport class NativeBiometricWeb extends WebPlugin implements NativeBiometricPlugin {\n  /**\n   * In-memory credential storage for browser development/testing.\n   * Credentials are stored temporarily and cleared on page refresh.\n   * This is NOT secure storage and should only be used for development purposes.\n   */\n  private credentialStore: Map<string, Credentials> = new Map();\n\n  constructor() {\n    super();\n  }\n\n  isAvailable(): Promise<AvailableResult> {\n    // Web platform: return a dummy implementation for development/testing\n    // Using TOUCH_ID as a generic placeholder for simulated biometric authentication\n    return Promise.resolve({\n      isAvailable: true,\n      authenticationStrength: AuthenticationStrength.STRONG,\n      biometryType: BiometryType.TOUCH_ID,\n      deviceIsSecure: true,\n      strongBiometryIsAvailable: true,\n    });\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  async addListener(_eventName: 'biometryChange', _listener: BiometryChangeListener): Promise<PluginListenerHandle> {\n    // Web platform: no-op, but return a valid handle\n    return {\n      remove: async () => {\n        // Nothing to remove on web\n      },\n    };\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  verifyIdentity(_options?: BiometricOptions): Promise<void> {\n    console.log('verifyIdentity (dummy implementation)');\n    // Dummy implementation: always succeeds for browser testing\n    return Promise.resolve();\n  }\n\n  getCredentials(_options: GetCredentialOptions): Promise<Credentials> {\n    console.log('getCredentials (dummy implementation)', { server: _options.server });\n    // Dummy implementation: retrieve from in-memory store\n    const credentials = this.credentialStore.get(_options.server);\n    if (!credentials) {\n      throw new Error('No credentials found for the specified server');\n    }\n    return Promise.resolve(credentials);\n  }\n\n  setCredentials(_options: SetCredentialOptions): Promise<void> {\n    console.log('setCredentials (dummy implementation)', { server: _options.server });\n    // Dummy implementation: store in memory\n    this.credentialStore.set(_options.server, {\n      username: _options.username,\n      password: _options.password,\n    });\n    return Promise.resolve();\n  }\n\n  deleteCredentials(_options: DeleteCredentialOptions): Promise<void> {\n    console.log('deleteCredentials (dummy implementation)', { server: _options.server });\n    // Dummy implementation: remove from in-memory store\n    this.credentialStore.delete(_options.server);\n    return Promise.resolve();\n  }\n\n  isCredentialsSaved(_options: IsCredentialsSavedOptions): Promise<IsCredentialsSavedResult> {\n    console.log('isCredentialsSaved (dummy implementation)', { server: _options.server });\n    // Dummy implementation: check in-memory store\n    return Promise.resolve({ isSaved: this.credentialStore.has(_options.server) });\n  }\n\n  async getPluginVersion(): Promise<{ version: string }> {\n    return { version: 'web' };\n  }\n}\n"]}